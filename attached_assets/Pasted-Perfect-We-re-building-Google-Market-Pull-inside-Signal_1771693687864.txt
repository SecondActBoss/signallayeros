Perfect.
Weâ€™re building Google Market Pull inside SignalLayerOS.
Internal only.
Michigan-focused.
Download â†’ delete.

Below is a clean, copy-paste build prompt for Replit.

â¸»

ğŸ§± REPLIT BUILD PROMPT

â¸»

Project: Add â€œGoogle Market Pullâ€ Feature to SignalLayerOS

We are adding a new internal-only feature to SignalLayerOS called:

Google Market Pull

This tool allows the founder to:

â€¢ Input a service category (ex: â€œPlumberâ€)
â€¢ Default state = Michigan
â€¢ Pull Google Maps results via DataForSEO
â€¢ Extract websites
â€¢ Discover emails
â€¢ Verify emails
â€¢ Generate downloadable CSV
â€¢ Delete all temporary data after download

This feature is NOT public-facing SaaS.
It is an internal acquisition tool.

â¸»

1ï¸âƒ£ Frontend Requirements

Add new route:

/google-market-pull

Simple UI:

Form Fields
Â Â Â â€¢Â Â Â Service Category (text input) â€“ required
Â Â Â â€¢Â Â Â State (default = Michigan)
Â Â Â â€¢Â Â Â Minimum Reviews (default = 30)
Â Â Â â€¢Â Â Â Max Results (default = 500)

Button:
â€œGenerate Leadsâ€

After processing:

Display:
Â Â Â â€¢Â Â Â Total businesses found
Â Â Â â€¢Â Â Â Total websites found
Â Â Â â€¢Â Â Â Total emails discovered
Â Â Â â€¢Â Â Â Total emails verified
Â Â Â â€¢Â Â Â Download CSV button

No database persistence required beyond processing lifecycle.

â¸»

2ï¸âƒ£ Backend Flow Overview

Endpoint:

POST /api/google-market-pull

Step A â€“ Generate Search Queries

Maintain a static JSON list of top ~100 Michigan cities.

For each city:

Create search query:
{service category} {city} MI

Example:
â€œPlumber Detroit MIâ€

â¸»

Step B â€“ DataForSEO Google Maps Pull

Use DataForSEO Local Pack / Google Maps endpoint.

Return:
Â Â Â â€¢Â Â Â business_name
Â Â Â â€¢Â Â Â address
Â Â Â â€¢Â Â Â phone
Â Â Â â€¢Â Â Â website
Â Â Â â€¢Â Â Â rating
Â Â Â â€¢Â Â Â reviews_count

Filter:
Â Â Â â€¢Â Â Â website != null
Â Â Â â€¢Â Â Â reviews_count >= minimum_reviews

Stop once max_results reached.

â¸»

Step C â€“ Website Email Extraction

For each website:
	1.	Fetch homepage HTML
	2.	Attempt to fetch:
Â Â Â Â Â Â â€¢Â Â Â /contact
Â Â Â Â Â Â â€¢Â Â Â /about

Extract emails using regex:

Standard email regex pattern.

If email found:
Store candidate emails.

If no email found:
Proceed to enrichment step.

â¸»

Step D â€“ Email Discovery API (Enrichment Layer)

Integrate email discovery provider via environment variables:

Example:
PROSPEO_API_KEY

Call provider using domain.

Attempt to retrieve:
Â Â Â â€¢Â Â Â generic emails (info@, contact@)
Â Â Â â€¢Â Â Â owner emails
Â Â Â â€¢Â Â Â admin emails

Append discovered emails to candidate list.

â¸»

Step E â€“ Email Verification

Integrate verification provider:

Example:
BOUNCEBAN_API_KEY

Verify each candidate email.

Keep only:
Â Â Â â€¢Â Â Â deliverable
Â Â Â â€¢Â Â Â safe

Discard:
Â Â Â â€¢Â Â Â risky
Â Â Â â€¢Â Â Â invalid

â¸»

3ï¸âƒ£ Data Handling

Use in-memory processing only.

OR temporary array stored during request lifecycle.

DO NOT persist to Supabase.

After CSV generated:
Clear all data from memory.

No long-term storage.

â¸»

4ï¸âƒ£ CSV Output Format

Generate downloadable CSV with columns:
Â Â Â â€¢Â Â Â Business Name
Â Â Â â€¢Â Â Â City
Â Â Â â€¢Â Â Â Address
Â Â Â â€¢Â Â Â Phone
Â Â Â â€¢Â Â Â Website
Â Â Â â€¢Â Â Â Email
Â Â Â â€¢Â Â Â Reviews
Â Â Â â€¢Â Â Â Rating
Â Â Â â€¢Â Â Â Source Query

Allow direct download via response stream.

OR generate temporary file and auto-delete after 5 minutes.

â¸»

5ï¸âƒ£ Rate Limiting + Safety

To prevent API abuse:

Add basic rate limit:
Max 1 generation per 10 minutes.

Add basic concurrency control:
Prevent multiple simultaneous pulls.

â¸»

6ï¸âƒ£ Environment Variables Required

DATAFORSEO_LOGIN
DATAFORSEO_PASSWORD
PROSPEO_API_KEY
BOUNCEBAN_API_KEY

â¸»

7ï¸âƒ£ Technical Notes

â€¢ Use async batching to avoid blocking event loop
â€¢ Process cities sequentially to avoid DataForSEO throttling
â€¢ Use timeout handling for website fetch failures
â€¢ Gracefully skip broken domains
â€¢ Log progress server-side for debugging

â¸»

8ï¸âƒ£ UX Flow
	1.	User submits form
	2.	Show loading state:
â€œPulling Michigan plumbersâ€¦â€
	3.	Show progress counter:
X businesses processed
	4.	Once complete:
Show summary
Show Download CSV button

After download:
Optionally show:
â€œData cleared.â€

â¸»

9ï¸âƒ£ Future-Proofing

Structure code modularly:

services/
Â Â Â â€¢Â Â Â dataforseoService.ts
Â Â Â â€¢Â Â Â emailExtractor.ts
Â Â Â â€¢Â Â Â enrichmentService.ts
Â Â Â â€¢Â Â Â verificationService.ts

So providers can be swapped later.

â¸»

10ï¸âƒ£ Success Criteria

If user enters:

Service Category: Plumber
State: Michigan
Min Reviews: 30

System should return:

200â€“400 verified plumber emails (depending on yield).

Downloadable CSV.

No data saved permanently.

â¸»

Important: Do NOT Over-Engineer

This is an internal founder tool.

No auth changes.
No billing.
No public exposure.

Keep it lean.

â¸»

End of Build Prompt

â¸»

Laura, this is a serious acquisition machine once built.

One more strategic question:

Do you want to limit results to:
â€¢ Top X per city
â€¢ OR pull all available results statewide?

That changes volume and API cost structure.

And we should decide before implementation.